diff --git a/build.zig b/build.zig
@@ -19,22 +19,9 @@ fn addVersionImport(b: *std.Build, exe: *std.Build.Step.Compile) void {
         "sh", "-c",
         b.fmt(
             \\VERSION=$(cat VERSION | tr -d '\n')
-            \\GIT_HASH=$(git rev-parse --short HEAD 2>/dev/null || echo 'unknown')
-            \\# Check if working tree is dirty
-            \\if [ -n "$(git status --porcelain 2>/dev/null)" ]; then
-            \\    DIRTY="-dirty"
-            \\else
-            \\    DIRTY=""
-            \\fi
-            \\# Check if we're on a tagged commit
-            \\if git describe --exact-match --tags HEAD >/dev/null 2>&1; then
-            \\    # On a tag, just show version-hash
-            \\    printf "%s-%s%s ({s})" "$VERSION" "$GIT_HASH" "$DIRTY"
-            \\else
-            \\    # Not on a tag, show version-dev-hash
-            \\    printf "%s-dev-%s%s ({s})" "$VERSION" "$GIT_HASH" "$DIRTY"
-            \\fi
-        , .{ mode_str, mode_str }),
+            \\GIT_HASH=@gitHash@
+            \\printf "%s-%s%s ({s})" "$VERSION" "$GIT_HASH"
+        , .{ mode_str }),
     });
     version_step.has_side_effects = true;

